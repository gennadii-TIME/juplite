<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Juplite — Solana Swap Router</title>

  <!-- Main description -->
  <meta name="description"
        content="Juplite routes every swap through Jupiter Plugin for the best price and referral rewards." />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#020617" />
  <link rel="apple-touch-icon" sizes="192x192" href="/icon-192.png" />
  <link rel="icon" href="/favicon.ico" />

  <!-- OG tags -->
  <meta property="og:title" content="Juplite — Solana Swap Router" />
  <meta property="og:description" content="Fast non-custodial swaps on Solana via Jupiter Plugin." />
  <meta property="og:image" content="/og.jpg" />

  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css" />
</head>

<body>

  <div id="app">
    <div id="header">
      <img src="/ui-logo-64.png" id="logo" />
      <h1>Juplite</h1>
    </div>

    <div id="swap-container">
      <div id="jupiter-plugin"></div>
    </div>
  </div>

  <!-- ========================================================== -->
  <!-- ⭐ FIX: Force Jupiter Plugin to use Helius RPC instead of ANKR -->
  <!-- ========================================================== -->
  <script>
    const HELIUS_KEY = "REPLACE_WITH_YOUR_KEY";  // ← Вставь ключ сюда

    const originalFetch = window.fetch;
    window.fetch = async function(url, options) {
      try {
        if (typeof url === "string" && url.includes("rpc")) {
          url = `https://mainnet.helius-rpc.com/?api-key=${HELIUS_KEY}`;
        }
      } catch (e) {}
      return originalFetch(url, options);
    };
  </script>

  <!-- Jupiter Plugin Loader -->
  <script
    src="https://terminal.jup.ag/main-v2.js"
    integrity="sha256-VJgI0ZpbbgQkkRWNffjPI4H54uHrv4efa3PL1U1t1z0="
    crossorigin="anonymous">
  </script>

  <!-- ========================================================== -->
  <!-- ⭐ Jupiter INIT with your referral -->
  <!-- ========================================================== -->
  <script>
    window.addEventListener("load", function () {
      if (!window.Jupiter || !window.Jupiter.init) {
        console.warn("Jupiter Plugin not available");
        return;
      }

      window.Jupiter.init({
        displayMode: "integrated",
        integratedTargetId: "jupiter-plugin",
        referral: "5AnFdijpAt5jhyhtP2ccMHVjMzC1LFAwRKEQiCtQsdHPz",  // твоя рефка
      });
    });
  </script>

</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>JupLite ‚Äî Refer &amp; Earn</title>

  <!-- OpenGraph + Twitter -->
  <meta property="og:title" content="JupLite ‚Äî Refer &amp; Earn" />
  <meta property="og:description"
        content="Invite friends to JupLite and earn a share of fees on every swap, with cashback for your friends." />
  <meta property="og:image" content="https://juplite.com/og-banner.png" />
  <meta property="og:url" content="https://juplite.com/refer.html" />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="JupLite ‚Äî Refer &amp; Earn" />
  <meta name="twitter:description"
        content="Earn passive income every time your friends swap on JupLite." />
  <meta name="twitter:image" content="https://juplite.com/og-banner.png" />

  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description"
        content="JupLite Refer & Earn ‚Äî invite friends to trade on Solana and earn a share of JupLite fees on every swap, with cashback for your friends." />
  <meta name="theme-color" content="#020617" />

  <!-- Icons / manifest -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png" />
  <link rel="apple-touch-icon" sizes="192x192" href="/icon-192.png" />
  <link rel="manifest" href="/manifest.json" />

  <style>
    :root {
      --bg: #020617;
      --bg-elevated: #020617;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.15);
      --radius-lg: 18px;
      --radius-full: 999px;
      --shadow-soft: 0 24px 60px rgba(15, 23, 42, 0.85);
      --max-width: 1180px;
      --topbar-height: 52px;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      color: var(--text-main);
      background:
        radial-gradient(circle at top, #0f172a 0, #020617 45%, #000 100%);
    }

    body {
      min-height: 100vh;
    }

    /* ====== TOPBAR ====== */
    .topbar {
      height: var(--topbar-height);
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid rgba(15, 23, 42, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617 55%, #000 100%);
      position: sticky;
      top: 0;
      z-index: 20;
    }

    .topbar-inner {
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .topbar-left {
      display: flex;
      align-items: center;
      gap: 16px;
      min-width: 0;
    }

    .topbar-right {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-home {
      cursor: pointer;
    }

    .logo-circle {
      position: relative;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
    }

    .logo-glow {
      position: absolute;
      inset: -6px;
      border-radius: 999px;
      background: conic-gradient(from 160deg, #22c55e, #38bdf8, #6366f1, #22c55e);
      filter: blur(6px);
      opacity: 0.9;
    }

    .logo-img {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      position: relative;
      z-index: 2;
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.35),
        0 0 12px rgba(56, 189, 248, 0.4),
        0 8px 18px rgba(15, 23, 42, 0.7);
      display: block;
    }

    .logo-text-main {
      font-size: 15px;
      font-weight: 600;
    }

    .logo-text-sub {
      font-size: 11px;
      color: var(--text-muted);
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
    }

    .nav a {
      color: var(--text-muted);
      text-decoration: none;
      padding: 4px 10px;
      border-radius: 999px;
      transition: background 0.15s ease, color 0.15s ease;
    }

    .nav a.nav-active {
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.9);
    }

    .nav a:hover {
      color: #e5e7eb;
    }

    .nav-badge-new {
      font-size: 9px;
      padding: 2px 5px;
      border-radius: 999px;
      background: #22c55e;
      color: #020617;
      margin-left: 4px;
      text-transform: uppercase;
    }

    .search {
      position: relative;
      min-width: 0;
      flex: 1;
      max-width: 260px;
    }

    .search input {
      width: 100%;
      padding: 6px 26px 6px 26px;
      border-radius: 999px;
      border: 1px solid rgba(30, 64, 175, 0.8);
      background: radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.13), rgba(15, 23, 42, 0.95));
      color: var(--text-main);
      font-size: 12px;
      outline: none;
    }

    .search input::placeholder {
      color: #6b7280;
    }

    .search-icon {
      position: absolute;
      left: 9px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      color: #6b7280;
    }

    .search-hotkey {
      position: absolute;
      right: 7px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 10px;
      color: #6b7280;
      border-radius: 4px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 1px 4px;
    }

    .icon-btn {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid rgba(31, 41, 55, 0.9);
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.9), #020617);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 13px;
      color: #9ca3af;
    }

    .icon-btn:hover {
      border-color: rgba(75, 85, 99, 0.9);
      color: var(--text-main);
    }

    .connect-btn {
      padding: 7px 16px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #22c55e, #4ade80);
      color: #022c22;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 12px 30px rgba(34, 197, 94, 0.4);
      white-space: nowrap;
    }

    .connect-btn:hover {
      filter: brightness(1.05);
    }

    /* ====== TICKER ====== */
    .ticker-shell {
      background: #020617;
      border-bottom: 1px solid rgba(15, 23, 42, 0.9);
    }

    .ticker {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 6px 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      overflow-x: auto;
      scrollbar-width: none;
    }

    .ticker::-webkit-scrollbar {
      display: none;
    }

    .ticker-item {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 9px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.98), #020617);
      border: 1px solid rgba(31, 41, 55, 0.9);
      font-size: 11px;
      white-space: nowrap;
    }

    @keyframes ticker-flash-up {
      0%   { background-color: rgba(34, 197, 94, 0.25); }
      100% { background-color: transparent; }
    }

    @keyframes ticker-flash-down {
      0%   { background-color: rgba(248, 113, 113, 0.3); }
      100% { background-color: transparent; }
    }

    .ticker-item.flash-up {
      animation: ticker-flash-up 0.35s ease-out;
    }

    .ticker-item.flash-down {
      animation: ticker-flash-down 0.35s ease-out;
    }

    .ticker-token-icon {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #38bdf8, #0f172a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
    }

    .ticker-symbol {
      font-weight: 500;
    }

    .ticker-price {
      color: #e5e7eb;
    }

    .ticker-change-up {
      color: #4ade80;
    }

    .ticker-change-down {
      color: #f97373;
    }

    /* ====== MAIN ====== */
    .page-main {
      max-width: var(--max-width);
      margin: 12px auto 0;
      padding: 0 12px 24px;
    }

    .panel {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-subtle);
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.99));
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      backdrop-filter: blur(18px);
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .section-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.5);
      font-size: 11px;
      color: var(--text-muted);
    }

    .section-text {
      font-size: 13px;
      color: var(--text-muted);
      max-width: 520px;
      line-height: 1.6;
    }

    footer {
      max-width: var(--max-width);
      margin: 6px auto 0;
      padding: 0 12px 18px;
      font-size: 10px;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      opacity: 0.85;
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* ====== LANG SWITCH ====== */
    .lang-switch {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 0 6px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.9), #020617);
      border: 1px solid rgba(31, 41, 55, 0.9);
      font-size: 10px;
    }

    .lang-btn {
      border: none;
      background: transparent;
      color: #9ca3af;
      padding: 2px 6px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 10px;
      line-height: 1.2;
    }

    .lang-btn.lang-active {
      background: rgba(56, 189, 248, 0.16);
      color: #e5e7eb;
    }

    .lang-btn:hover {
      color: #e5e7eb;
    }

    /* ====== REFERRAL CARD ====== */

    .ref-card {
      margin-top: 14px;
      padding: 12px 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.12), rgba(15, 23, 42, 0.96));
    }

    .ref-card-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .ref-card-sub {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    .ref-link-row {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 10px;
    }

    .ref-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.96);
      padding: 7px 11px;
      font-size: 12px;
      color: var(--text-main);
      outline: none;
      min-width: 0;
    }

    .ref-input::placeholder {
      color: #6b7280;
    }

    .ref-copy-btn {
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      background: linear-gradient(135deg, #38bdf8, #0ea5e9);
      color: #020617;
      font-size: 12px;
      font-weight: 600;
      padding: 7px 12px;
      cursor: pointer;
      white-space: nowrap;
    }

    .ref-copy-btn:disabled {
      opacity: 0.6;
      cursor: default;
    }

    .ref-stats-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
    }

    .ref-stat {
      flex: 1;
      min-width: 120px;
      padding: 8px 9px;
      border-radius: 10px;
      border: 1px solid rgba(31, 41, 55, 0.95);
      background: rgba(15, 23, 42, 0.95);
      font-size: 11px;
    }

    .ref-stat-label {
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
    }

    .ref-stat-value {
      margin-top: 3px;
      font-size: 14px;
      font-weight: 600;
    }

    .ref-stat-hint {
      font-size: 10px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .ref-vip-note {
      margin-top: 10px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .ref-vip-note strong {
      color: var(--accent);
    }

    /* ====== MOBILE ====== */
    @media (max-width: 900px) {
      .topbar-inner {
        padding-inline: 8px;
      }

      .nav {
        display: none;
      }

      .search {
        max-width: 180px;
      }

      .panel {
        padding: 14px 12px 16px;
      }
    }

    @media (max-width: 600px) {
      .logo-text-sub {
        display: none;
      }

      .section-text {
        max-width: none;
      }

      .ref-link-row {
        flex-direction: column;
        align-items: stretch;
      }

      .ref-copy-btn {
        width: 100%;
      }
    }

    @media (max-width: 900px) {
      .lang-switch {
        display: none;
      }
    }
  </style>

  <script src="https://plugin.jup.ag/plugin-v1.js"></script>
</head>
<body>
  <!-- TOPBAR -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="topbar-left">
        <div class="logo-wrap logo-home"
             role="button"
             tabindex="0"
             onclick="window.location.href='/index.html'"
             onkeydown="if(event.key==='Enter'||event.key===' ') window.location.href='/index.html';">
          <div class="logo-circle">
            <div class="logo-glow"></div>
            <img src="/icon-192.png" alt="JupLite logo" class="logo-img">
          </div>
          <div>
            <div class="logo-text-main">JupLite</div>
            <div class="logo-text-sub">Swap ¬∑ Router ¬∑ Solana</div>
          </div>
        </div>

        <nav class="nav">
          <a href="/index.html" data-view="swap">Swap</a>
          <a href="/pro.html" class="nav-active-ultra">Ultra</a>
          <a href="/pools.html" data-view="perps">Pools</a>
          <a href="#" data-view="lend">Lend</a>
          <a href="#" data-view="portfolio">Portfolio</a>
          <a href="/refer.html" class="nav-active" data-nav="refer">
            Refer &amp; Earn <span class="nav-badge-new">new</span>
          </a>
        </nav>
      </div>

      <div class="topbar-right">
        <div class="search">
          <span class="search-icon">üîç</span>
          <input type="text" placeholder="Search token, wallet or feature" />
          <span class="search-hotkey">/</span>
        </div>
        <div class="lang-switch" aria-label="Language switcher">
          <button class="lang-btn lang-active" type="button" data-lang="en">EN</button>
          <button class="lang-btn" type="button" data-lang="ru">RU</button>
          <button class="lang-btn" type="button" data-lang="es">ES</button>
          <button class="lang-btn" type="button" data-lang="hi">HI</button>
          <button class="lang-btn" type="button" data-lang="ar">AR</button>
        </div>
        <button class="icon-btn" type="button" aria-label="Settings">‚öôÔ∏è</button>
        <button class="connect-btn" type="button">Connect</button>
      </div>
    </div>
  </div>

  <!-- TICKER -->
  <div class="ticker-shell">
    <div class="ticker">
      <div class="ticker-item">
        <div class="ticker-token-icon">K</div>
        <span class="ticker-symbol">KMNO</span>
        <span class="ticker-price">$0.0515</span>
        <span class="ticker-change-down">-2.9%</span>
      </div>
      <div class="ticker-item">
        <div class="ticker-token-icon">M</div>
        <span class="ticker-symbol">MET</span>
        <span class="ticker-price">$0.3408</span>
        <span class="ticker-change-down">-3.0%</span>
      </div>
      <div class="ticker-item">
        <div class="ticker-token-icon">J</div>
        <span class="ticker-symbol">JUP</span>
        <span class="ticker-price">$0.2544</span>
        <span class="ticker-change-up">+1.1%</span>
      </div>
      <div class="ticker-item">
        <div class="ticker-token-icon">S</div>
        <span class="ticker-symbol">SOL</span>
        <span class="ticker-price">$132.41</span>
        <span class="ticker-change-down">-0.6%</span>
      </div>
    </div>
  </div>

  <!-- MAIN -->
  <div class="page-main">
    <section class="panel">
      <div class="section-title" id="ref-title">
        Refer &amp; Earn
        <span class="nav-badge-new">new</span>
      </div>
      <div class="section-tag" id="ref-tag">
        Invite friends ¬∑ cashback ¬∑ multi-level rewards
      </div>
      <p class="section-text" id="ref-lead">
        Share your JupLite link and earn a share of JupLite fees every time your friends swap.
        Level 1 referrals receive up to 20% of the platform fee, Level 2 ‚Äî 5%, and your friends
        get 5% cashback from their own fee. Simple, transparent and on-chain friendly.
      </p>

      <div class="ref-card">
        <div class="ref-card-title" id="ref-card-title">
          Your personal referral link
        </div>
        <div class="ref-card-sub" id="ref-card-sub">
          Share this link in chats, Twitter or Telegram. Every swap made through your
          referrals generates passive income while your friend trades on JupLite.
        </div>

        <div class="ref-link-row">
          <input id="ref-link-input" class="ref-input" readonly
                 placeholder="Loading your referral link..." />
          <button id="ref-link-copy" class="ref-copy-btn" type="button">Copy</button>
        </div>

        <div class="ref-stats-row">
          <div class="ref-stat">
            <div class="ref-stat-label" id="ref-stat-invited-label">Invited users</div>
            <div class="ref-stat-value" id="ref-stat-invited">0</div>
            <div class="ref-stat-hint" id="ref-stat-invited-hint">
              connected wallets by your link
            </div>
          </div>
          <div class="ref-stat">
            <div class="ref-stat-label" id="ref-stat-volume-label">Total volume</div>
            <div class="ref-stat-value" id="ref-stat-volume">0 USDC</div>
            <div class="ref-stat-hint" id="ref-stat-volume-hint">
              aggregate swaps of all referrals
            </div>
          </div>
          <div class="ref-stat">
            <div class="ref-stat-label" id="ref-stat-earned-label">Earned</div>
            <div class="ref-stat-value" id="ref-stat-earned">0.00 USDC</div>
            <div class="ref-stat-hint" id="ref-stat-earned-hint">
              your share of JupLite fees
            </div>
          </div>
          <div class="ref-stat">
            <div class="ref-stat-label" id="ref-stat-balance-label">Balance</div>
            <div class="ref-stat-value" id="ref-stat-balance">0.00 USDC</div>
            <div class="ref-stat-hint" id="ref-stat-balance-hint">
              min withdrawal 1 USDC
            </div>
          </div>
        </div>

        <div class="ref-vip-note" id="ref-vip-note">
          Invite <strong>1 friend</strong> to unlock <strong>VIP 1</strong> and start
          receiving <strong>15% of JupLite fee</strong> from their swaps.
        </div>
      </div>
    </section>
  </div>

  <footer>
    <div>JupLite is an independent interface built on top of Jupiter.</div>
    <div>
      Powered by <a href="https://jup.ag" target="_blank" rel="noreferrer">Jupiter</a>.
      <span class="visit-counter">¬∑ visitors: <span id="visitor-count">‚Äî</span></span>
    </div>
  </footer>

  <script>
    /* ===== I18N (–∫–∞–∫ –≤ index, + —Ç–µ–∫—Å—Ç—ã –¥–ª—è Refer & Earn) ===== */

    const JUPLITE_I18N_REFER = {
      en: {
        logoSub: "Swap ¬∑ Router ¬∑ Solana",
        nav: {
          swap: "Swap",
          pro: "Ultra",
          perps: "Pools",
          lend: "Lend",
          portfolio: "Portfolio",
          refer: "Refer & Earn"
        },
        refTitle: "Refer & Earn",
        refTag: "Invite friends ¬∑ cashback ¬∑ multi-level rewards",
        refLead:
          "Share your JupLite link and earn a share of JupLite fees every time your friends swap. Level 1 referrals receive up to 20% of the platform fee, Level 2 ‚Äî 5%, and your friends get 5% cashback from their own fee.",
        refCardTitle: "Your personal referral link",
        refCardSub:
          "Share this link in chats, Twitter or Telegram. Every swap made through your referrals generates passive income while your friend trades on JupLite.",
        statInvited: {
          label: "Invited users",
          hint: "connected wallets by your link"
        },
        statVolume: {
          label: "Total volume",
          hint: "aggregate swaps of all referrals"
        },
        statEarned: {
          label: "Earned",
          hint: "your share of JupLite fees"
        },
        statBalance: {
          label: "Balance",
          hint: "min withdrawal 1 USDC"
        },
        vipEmpty:
          "Invite <strong>1 friend</strong> to unlock <strong>VIP 1</strong> and start receiving <strong>15% of JupLite fee</strong> from their swaps.",
        vipSome:
          "Your current level: <strong>VIP {PCT}%</strong>. The more active referrals you have, the higher your share of JupLite fees."
      },
      ru: {
        logoSub: "–°–≤–æ–ø ¬∑ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä ¬∑ Solana",
        nav: {
          swap: "–°–≤–æ–ø",
          pro: "–£–ª—å—Ç—Ä–∞",
          perps: "–ü—É–ª—ã",
          lend: "–õ–µ–Ω–¥–∏–Ω–≥",
          portfolio: "–ü–æ—Ä—Ç—Ñ–µ–ª—å",
          refer: "–†–µ—Ñ–µ—Ä–∞–ª—ã"
        },
        refTitle: "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞",
        refTag: "–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π ¬∑ –∫—ç—à–±—ç–∫ ¬∑ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –Ω–∞–≥—Ä–∞–¥—ã",
        refLead:
          "–î–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π JupLite –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –¥–æ–ª—é –∫–æ–º–∏—Å—Å–∏–∏ —Å –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏ –¥—Ä—É–∑–µ–π. –†–µ—Ñ–µ—Ä–∞–ª—ã 1-–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–Ω–æ—Å—è—Ç –¥–æ 20% –∫–æ–º–∏—Å—Å–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, 2-–≥–æ —É—Ä–æ–≤–Ω—è ‚Äî 5%, –∞ –≤–∞—à–∏ –¥—Ä—É–∑—å—è –ø–æ–ª—É—á–∞—é—Ç –∫—ç—à–±—ç–∫ 5% –æ—Ç —Å–≤–æ–µ–π –∫–æ–º–∏—Å—Å–∏–∏.",
        refCardTitle: "–í–∞—à–∞ –ª–∏—á–Ω–∞—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞",
        refCardSub:
          "–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –≤ —á–∞—Ç, Telegram –∏–ª–∏ —Å–æ—Ü—Å–µ—Ç–∏. –ö–∞–∂–¥—ã–π —Å–≤–æ–ø –ø–æ –Ω–µ–π –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤–∞–º –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥, –ø–æ–∫–∞ –¥—Ä—É–∑—å—è –ø–æ–ª—å–∑—É—é—Ç—Å—è JupLite.",
        statInvited: {
          label: "–ü—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ",
          hint: "–∫–æ—à–µ–ª—å–∫–∏, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–µ –ø–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ"
        },
        statVolume: {
          label: "–û–±—ä—ë–º —Ç–æ—Ä–≥–æ–≤",
          hint: "—Å—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä—ë–º —Å–≤–æ–ø–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤"
        },
        statEarned: {
          label: "–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ",
          hint: "–≤–∞—à–∞ –¥–æ–ª—è –∫–æ–º–∏—Å—Å–∏–∏ JupLite"
        },
        statBalance: {
          label: "–ë–∞–ª–∞–Ω—Å",
          hint: "–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ 1 USDC"
        },
        vipEmpty:
          "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ <strong>1 –¥—Ä—É–≥–∞</strong>, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å <strong>VIP 1</strong> –∏ –ø–æ–ª—É—á–∞—Ç—å <strong>15% –∫–æ–º–∏—Å—Å–∏–∏ JupLite</strong> —Å –µ–≥–æ —Å–≤–æ–ø–æ–≤.",
        vipSome:
          "–í–∞—à —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: <strong>VIP {PCT}%</strong>. –ß–µ–º –±–æ–ª—å—à–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, —Ç–µ–º –≤—ã—à–µ –≤–∞—à–∞ –¥–æ–ª—è –∫–æ–º–∏—Å—Å–∏–∏."
      },
      es: {
        logoSub: "Swap ¬∑ Enrutador ¬∑ Solana",
        nav: {
          swap: "Swap",
          pro: "Ultra",
          perps: "Pools",
          lend: "Pr√©stamos",
          portfolio: "Portafolio",
          refer: "Referidos"
        },
        refTitle: "Programa de referidos",
        refTag: "Invita amigos ¬∑ cashback ¬∑ recompensas multinivel",
        refLead:
          "Comparte tu enlace de JupLite y gana una parte de las comisiones cada vez que tus amigos hacen swaps. Nivel 1 recibe hasta el 20% de la comisi√≥n de la plataforma, nivel 2 ‚Äî 5%, y tus amigos obtienen 5% de cashback de su propia comisi√≥n.",
        refCardTitle: "Tu enlace personal de referido",
        refCardSub:
          "Comparte este enlace en chats, Telegram o redes sociales. Cada swap a trav√©s de tu enlace genera ingresos pasivos mientras tus amigos operan en JupLite.",
        statInvited: {
          label: "Usuarios invitados",
          hint: "wallets conectados con tu enlace"
        },
        statVolume: {
          label: "Volumen total",
          hint: "volumen agregado de swaps de referidos"
        },
        statEarned: {
          label: "Ganado",
          hint: "tu parte de las comisiones de JupLite"
        },
        statBalance: {
          label: "Balance",
          hint: "retiro m√≠nimo 1 USDC"
        },
        vipEmpty:
          "Invita a <strong>1 amigo</strong> para desbloquear <strong>VIP 1</strong> y recibir <strong>15% de la comisi√≥n de JupLite</strong> de sus swaps.",
        vipSome:
          "Tu nivel actual: <strong>VIP {PCT}%</strong>. Cuantos m√°s referidos activos tengas, mayor ser√° tu parte de la comisi√≥n."
      },
      hi: {
        logoSub: "‡§∏‡•ç‡§µ‡•à‡§™ ¬∑ ‡§∞‡§æ‡§â‡§ü‡§∞ ¬∑ Solana",
        nav: {
          swap: "‡§∏‡•ç‡§µ‡•à‡§™",
          pro: "‡§™‡•ç‡§∞‡•ã",
          perps: "‡§™‡•Ç‡§≤‡•ç‡§∏",
          lend: "‡§≤‡•á‡§Ç‡§°",
          portfolio: "‡§™‡•ã‡§∞‡•ç‡§ü‡§´‡•ã‡§≤‡§ø‡§Ø‡•ã",
          refer: "‡§∞‡•á‡§´‡§∞ & Earn"
        },
        refTitle: "Refer & Earn ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ",
        refTag: "‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§Æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ¬∑ ‡§ï‡•à‡§∂‡§¨‡•à‡§ï ¬∑ ‡§Æ‡§≤‡•ç‡§ü‡•Ä-‡§≤‡•á‡§µ‡§≤ ‡§∞‡§ø‡§µ‡•â‡§∞‡•ç‡§°",
        refLead:
          "‡§Ö‡§™‡§®‡§æ JupLite ‡§≤‡§ø‡§Ç‡§ï ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§π‡§∞ ‡§¨‡§æ‡§∞ ‡§ú‡§¨ ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ã‡§∏‡•ç‡§§ ‡§∏‡•ç‡§µ‡•à‡§™ ‡§ï‡§∞‡•á‡§Ç, ‡§§‡•ã JupLite ‡§ï‡•Ä ‡§´‡§º‡•Ä‡§∏ ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§ï‡§Æ‡§æ‡§è‡§Å‡•§ ‡§≤‡•á‡§µ‡§≤ 1 ‡§∞‡•á‡§´‡§∞‡§≤ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§´‡§º‡•Ä‡§∏ ‡§ï‡§æ 20% ‡§§‡§ï, ‡§≤‡•á‡§µ‡§≤ 2 ‡§∏‡•á 5% ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§≠‡•Ä ‡§â‡§®‡§ï‡•Ä ‡§Ö‡§™‡§®‡•Ä ‡§´‡§º‡•Ä‡§∏ ‡§™‡§∞ 5% ‡§ï‡•à‡§∂‡§¨‡•à‡§ï ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à‡•§",
        refCardTitle: "‡§Ü‡§™‡§ï‡•Ä ‡§®‡§ø‡§ú‡•Ä ‡§∞‡•á‡§´‡§∞‡§≤ ‡§≤‡§ø‡§Ç‡§ï",
        refCardSub:
          "‡§á‡§∏ ‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ã ‡§ö‡•à‡§ü, Telegram ‡§Ø‡§æ ‡§∏‡•ã‡§∂‡§≤ ‡§Æ‡•Ä‡§°‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§≠‡•á‡§ú‡•á‡§Ç‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§≤‡§ø‡§Ç‡§ï ‡§∏‡•á ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§π‡§∞ ‡§∏‡•ç‡§µ‡•à‡§™ ‡§§‡§¨ ‡§§‡§ï ‡§™‡•à‡§∏‡§ø‡§µ ‡§á‡§®‡§ï‡§Æ ‡§≤‡§æ‡§§‡§æ ‡§π‡•à, ‡§ú‡§¨ ‡§§‡§ï ‡§¶‡•ã‡§∏‡•ç‡§§ JupLite ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        statInvited: {
          label: "‡§á‡§®‡§µ‡§æ‡§á‡§ü ‡§ï‡§ø‡§è ‡§ó‡§è ‡§Ø‡•Ç‡§ú‡§º‡§∞‡•ç‡§∏",
          hint: "‡§Ü‡§™‡§ï‡•Ä ‡§≤‡§ø‡§Ç‡§ï ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á ‡§µ‡•â‡§≤‡•á‡§ü"
        },
        statVolume: {
          label: "‡§ï‡•Å‡§≤ ‡§µ‡•â‡§≤‡•ç‡§Ø‡•Ç‡§Æ",
          hint: "‡§∏‡§≠‡•Ä ‡§∞‡•á‡§´‡§∞‡§≤ ‡§ï‡§æ ‡§ï‡•Å‡§≤ ‡§∏‡•ç‡§µ‡•à‡§™ ‡§µ‡•â‡§≤‡•ç‡§Ø‡•Ç‡§Æ"
        },
        statEarned: {
          label: "‡§ï‡§Æ‡§æ‡§Ø‡§æ",
          hint: "JupLite ‡§´‡§º‡•Ä‡§∏ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ"
        },
        statBalance: {
          label: "‡§¨‡•à‡§≤‡§®‡•ç‡§∏",
          hint: "‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§µ‡§ø‡§•‡§°‡•ç‡§∞‡•â 1 USDC"
        },
        vipEmpty:
          "‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ <strong>1 ‡§¶‡•ã‡§∏‡•ç‡§§</strong> ‡§ï‡•ã ‡§á‡§®‡§µ‡§æ‡§á‡§ü ‡§ï‡§∞‡•á‡§Ç, <strong>VIP 1</strong> ‡§Ö‡§®‡§≤‡•â‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§î‡§∞ ‡§â‡§∏‡§ï‡•á ‡§∏‡•ç‡§µ‡•à‡§™ ‡§∏‡•á <strong>JupLite ‡§´‡§º‡•Ä‡§∏ ‡§ï‡§æ 15%</strong> ‡§ï‡§Æ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è‡•§",
        vipSome:
          "‡§Ü‡§™‡§ï‡§æ ‡§ï‡§∞‡§Ç‡§ü ‡§≤‡•á‡§µ‡§≤: <strong>VIP {PCT}%</strong>. ‡§ú‡§ø‡§§‡§®‡•á ‡§ú‡§º‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§è‡§ï‡•ç‡§ü‡§ø‡§µ ‡§∞‡•á‡§´‡§∞‡§≤, ‡§â‡§§‡§®‡§æ ‡§¨‡§°‡§º‡§æ ‡§Ü‡§™‡§ï‡§æ ‡§´‡§º‡•Ä‡§∏ ‡§∂‡•á‡§Ø‡§∞‡•§"
      },
      ar: {
        logoSub: "ÿ≥Ÿàÿßÿ® ¬∑ ŸÖŸàÿ¨Ÿá ¬∑ Solana",
        nav: {
          swap: "ÿ≥Ÿàÿßÿ®",
          pro: "ÿ®ÿ±Ÿà",
          perps: "ŸÖÿ¨ŸÖÿπÿßÿ™",
          lend: "ÿ•ŸÇÿ±ÿßÿ∂",
          portfolio: "ŸÖÿ≠ŸÅÿ∏ÿ©",
          refer: "ÿßŸÑÿ•ÿ≠ÿßŸÑÿßÿ™"
        },
        refTitle: "ÿ®ÿ±ŸÜÿßŸÖÿ¨ ÿßŸÑÿ•ÿ≠ÿßŸÑÿßÿ™",
        refTag: "ÿßÿØÿπŸè ÿ£ÿµÿØŸÇÿßÿ°ŸÉ ¬∑ ŸÉÿßÿ¥ ÿ®ÿßŸÉ ¬∑ ŸÖŸÉÿßŸÅÿ¢ÿ™ ŸÖÿ™ÿπÿØÿØÿ© ÿßŸÑŸÖÿ≥ÿ™ŸàŸäÿßÿ™",
        refLead:
          "ÿ¥ÿßÿ±ŸÉ ÿ±ÿßÿ®ÿ∑ JupLite ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ Ÿàÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ¨ÿ≤ÿ° ŸÖŸÜ ÿπŸÖŸàŸÑÿßÿ™ JupLite ŸÅŸä ŸÉŸÑ ŸÖÿ±ÿ© ŸäŸÇŸàŸÖ ŸÅŸäŸáÿß ÿ£ÿµÿØŸÇÿßÿ§ŸÉ ÿ®ÿßŸÑÿ™ÿ®ÿØŸäŸÑ. ÿ•ÿ≠ÿßŸÑÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ£ŸàŸÑ ÿ™ÿπÿ∑ŸäŸÉ ÿ≠ÿ™Ÿâ 20Ÿ™ ŸÖŸÜ ÿπŸÖŸàŸÑÿ© ÿßŸÑŸÖŸÜÿµŸëÿ©ÿå ŸàÿßŸÑŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ´ÿßŸÜŸä 5Ÿ™ÿå Ÿàÿ£ÿµÿØŸÇÿßÿ§ŸÉ Ÿäÿ≠ÿµŸÑŸàŸÜ ÿπŸÑŸâ 5Ÿ™ ŸÉÿßÿ¥ ÿ®ÿßŸÉ ŸÖŸÜ ÿπŸÖŸàŸÑÿ™ŸáŸÖ.",
        refCardTitle: "ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ•ÿ≠ÿßŸÑÿ© ÿßŸÑÿ¥ÿÆÿµŸä",
        refCardSub:
          "ÿ£ÿ±ÿ≥ŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸÅŸä ÿßŸÑÿØÿ±ÿØÿ¥ÿ© ÿ£Ÿà ÿ™ŸäŸÑŸäÿ∫ÿ±ÿßŸÖ ÿ£Ÿà ÿ¥ÿ®ŸÉÿßÿ™ ÿßŸÑÿ™ŸàÿßÿµŸÑ. ŸÉŸÑ ÿπŸÖŸÑŸäÿ© ÿ™ÿ®ÿØŸäŸÑ ÿ™ÿ™ŸÖ ÿπÿ®ÿ±Ÿá ÿ™ŸàŸÑŸëÿØ ŸÑŸÉ ÿØÿÆŸÑŸãÿß ÿ≥ŸÑÿ®ŸäŸãÿß ÿ∑ÿßŸÑŸÖÿß Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿ£ÿµÿØŸÇÿßÿ§ŸÉ JupLite.",
        statInvited: {
          label: "ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸàŸÜ ÿßŸÑŸÖÿØÿπŸàŸàŸÜ",
          hint: "ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ ÿßŸÑŸÖÿ™ÿµŸÑÿ© ÿπÿ®ÿ± ÿ±ÿßÿ®ÿ∑ŸÉ"
        },
        statVolume: {
          label: "ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≠ÿ¨ŸÖ",
          hint: "ÿ•ÿ¨ŸÖÿßŸÑŸä ÿ≠ÿ¨ŸÖ ÿßŸÑÿµŸÅŸÇÿßÿ™ ŸÖŸÜ ÿßŸÑÿ•ÿ≠ÿßŸÑÿßÿ™"
        },
        statEarned: {
          label: "ÿßŸÑŸÖŸÉÿßÿ≥ÿ®",
          hint: "ÿ≠ÿµÿ™ŸÉ ŸÖŸÜ ÿπŸÖŸàŸÑÿ© JupLite"
        },
        statBalance: {
          label: "ÿßŸÑÿ±ÿµŸäÿØ",
          hint: "ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ÿØŸÜŸâ ŸÑŸÑÿ≥ÿ≠ÿ® 1 USDC"
        },
        vipEmpty:
          "ÿßÿØÿπŸè <strong>ÿµÿØŸäŸÇŸãÿß Ÿàÿßÿ≠ÿØŸãÿß</strong> ŸÑŸÅÿ™ÿ≠ <strong>VIP 1</strong> Ÿàÿ®ÿØÿ° ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ <strong>15Ÿ™ ŸÖŸÜ ÿπŸÖŸàŸÑÿ© JupLite</strong> ŸÖŸÜ ÿ™ÿØÿßŸàŸÑÿßÿ™Ÿá.",
        vipSome:
          "ŸÖÿ≥ÿ™ŸàÿßŸÉ ÿßŸÑÿ≠ÿßŸÑŸä: <strong>VIP {PCT}%</strong>. ŸÉŸÑŸÖÿß ÿ≤ÿßÿØ ÿπÿØÿØ ÿßŸÑÿ•ÿ≠ÿßŸÑÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©ÿå ÿ≤ÿßÿØÿ™ ÿ≠ÿµÿ™ŸÉ ŸÖŸÜ ÿßŸÑÿπŸÖŸàŸÑÿßÿ™."
      }
    };

    function jupLiteDetectInitialLang() {
      const saved = localStorage.getItem("jupLiteLang");
      if (saved && JUPLITE_I18N_REFER[saved]) return saved;

      const nav = (navigator.language || navigator.userLanguage || "en").toLowerCase();
      if (nav.startsWith("ru")) return "ru";
      if (nav.startsWith("es")) return "es";
      if (nav.startsWith("hi")) return "hi";
      if (nav.startsWith("ar")) return "ar";
      return "en";
    }

    function jupLiteSetLangActiveButton(lang) {
      document.querySelectorAll(".lang-btn").forEach((btn) => {
        const code = btn.getAttribute("data-lang");
        btn.classList.toggle("lang-active", code === lang);
      });
    }

    function jupLiteApplyLanguage(lang) {
      if (!JUPLITE_I18N_REFER[lang]) lang = "en";
      const dict = JUPLITE_I18N_REFER[lang];

      document.documentElement.lang = lang;
      document.documentElement.dir = (lang === "ar" ? "rtl" : "ltr");

      const logoSub = document.querySelector(".logo-text-sub");
      if (logoSub && dict.logoSub) logoSub.textContent = dict.logoSub;

      // nav (swap/pro/perps/...)
      if (dict.nav) {
        document.querySelectorAll(".nav a").forEach((a) => {
          if (a.dataset.view === "swap" && dict.nav.swap) a.textContent = dict.nav.swap;
          if (a.dataset.view === "perps" && dict.nav.perps) a.textContent = dict.nav.perps;
          if (a.dataset.view === "lend" && dict.nav.lend) a.textContent = dict.nav.lend;
          if (a.dataset.view === "portfolio" && dict.nav.portfolio) a.textContent = dict.nav.portfolio;

          if (a.getAttribute("data-nav") === "refer" && dict.nav.refer) {
            a.innerHTML = dict.nav.refer + ' <span class="nav-badge-new">new</span>';
          }
        });
      }

      // –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–∫—Å—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      if (dict.refTitle) {
        const refTitleEl = document.getElementById("ref-title");
        if (refTitleEl) {
          refTitleEl.innerHTML = dict.refTitle + ' <span class="nav-badge-new">new</span>';
        }
      }

      const refTagEl = document.getElementById("ref-tag");
      if (refTagEl && dict.refTag) refTagEl.textContent = dict.refTag;

      const refLeadEl = document.getElementById("ref-lead");
      if (refLeadEl && dict.refLead) refLeadEl.textContent = dict.refLead;

      const cardTitleEl = document.getElementById("ref-card-title");
      if (cardTitleEl && dict.refCardTitle) cardTitleEl.textContent = dict.refCardTitle;

      const cardSubEl = document.getElementById("ref-card-sub");
      if (cardSubEl && dict.refCardSub) cardSubEl.textContent = dict.refCardSub;

      if (dict.statInvited) {
        const l = dict.statInvited;
        const label = document.getElementById("ref-stat-invited-label");
        const hint = document.getElementById("ref-stat-invited-hint");
        if (label && l.label) label.textContent = l.label;
        if (hint && l.hint) hint.textContent = l.hint;
      }

      if (dict.statVolume) {
        const l = dict.statVolume;
        const label = document.getElementById("ref-stat-volume-label");
        const hint = document.getElementById("ref-stat-volume-hint");
        if (label && l.label) label.textContent = l.label;
        if (hint && l.hint) hint.textContent = l.hint;
      }

      if (dict.statEarned) {
        const l = dict.statEarned;
        const label = document.getElementById("ref-stat-earned-label");
        const hint = document.getElementById("ref-stat-earned-hint");
        if (label && l.label) label.textContent = l.label;
        if (hint && l.hint) hint.textContent = l.hint;
      }

      if (dict.statBalance) {
        const l = dict.statBalance;
        const label = document.getElementById("ref-stat-balance-label");
        const hint = document.getElementById("ref-stat-balance-hint");
        if (label && l.label) label.textContent = l.label;
        if (hint && l.hint) hint.textContent = l.hint;
      }

      const vipNote = document.getElementById("ref-vip-note");
      if (vipNote) {
        // –ø–æ–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ø—É—Å—Ç–æ–π" —Ç–µ–∫—Å—Ç
        vipNote.innerHTML = dict.vipEmpty || "";
      }

      jupLiteSetLangActiveButton(lang);
      try {
        localStorage.setItem("jupLiteLang", lang);
      } catch (e) {}
    }

    function initLangSwitcher() {
      const initialLang = jupLiteDetectInitialLang();
      jupLiteApplyLanguage(initialLang);

      document.querySelectorAll(".lang-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const lang = btn.getAttribute("data-lang");
          jupLiteApplyLanguage(lang);
        });
      });
    }

    /* ===== Visitor counter (–∫–∞–∫ –≤ index) ===== */
    function initVisitorCounter() {
      const el = document.getElementById("visitor-count");
      if (!el) return;

      const url = "https://api.countapi.xyz/hit/juplite.com/mainpage";

      fetch(url)
        .then((res) => res.json())
        .then((data) => {
          if (typeof data.value === "number") {
            el.textContent = data.value.toLocaleString("en-US");
          } else {
            el.textContent = "‚Äî";
          }
        })
        .catch(() => {
          el.textContent = "‚Äî";
        });
    }

    /* ===== Ticker (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ –∫–∞–∫ –≤ index) ===== */

    function initLiveTicker() {
      const items = Array.from(document.querySelectorAll(".ticker-item"));
      if (!items.length) return;

      // –ø–æ–∫–∞ –ø—É—Å—Ç—å –±—É–¥—É—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –∫ API
      // –º–æ–∂–µ—à—å –ø–æ–∑–∂–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –ª–æ–≥–∏–∫—É –∏–∑ index.html
    }

    /* ===== Referral helpers ===== */

    function jupLiteHandleIncomingRef() {
      try {
        const params = new URLSearchParams(window.location.search);
        const ref = params.get("ref");
        if (ref) {
          const existing = localStorage.getItem("jupLite_parent_ref");
          if (!existing) {
            localStorage.setItem("jupLite_parent_ref", ref);
          }
        }
      } catch (e) {
        console.warn("ref param error", e);
      }
    }

    function jupLiteGetMyRefCode() {
      let code = null;
      try {
        code = localStorage.getItem("jupLite_my_ref");
      } catch (_) {}

      if (!code) {
        const walletPubkey =
          (window.solana && window.solana.publicKey && window.solana.publicKey.toString && window.solana.publicKey.toString()) ||
          (typeof window.JUPLITE_WALLET_PUBKEY === "string" ? window.JUPLITE_WALLET_PUBKEY : null);

        if (walletPubkey) {
          code = walletPubkey;
        } else {
          const rand = (crypto && crypto.randomUUID ? crypto.randomUUID() : String(Math.random()))
            .replace(/-/g, "")
            .slice(0, 8);
          code = "JL-" + rand;
        }

        try {
          localStorage.setItem("jupLite_my_ref", code);
        } catch (_) {}
      }

      return code;
    }

    function jupLiteBuildMyRefLink() {
      const myCode = jupLiteGetMyRefCode();
      const origin = window.location.origin || "https://juplite.com";
      return origin + "/?ref=" + encodeURIComponent(myCode);
    }

    function jupLiteGetVipPercent(invitedCount) {
      if (invitedCount >= 100) return 30;
      if (invitedCount >= 20) return 25;
      if (invitedCount >= 5)  return 20;
      if (invitedCount >= 1)  return 15;
      return 0;
    }

    function jupLiteLoadReferralStats() {
      const key = "jupLite_demo_stats";
      try {
        const raw = localStorage.getItem(key);
        if (raw) return JSON.parse(raw);
      } catch (_) {}

      const initial = {
        invitedCount: 0,
        volumeUsdc: 0,
        earnedUsdc: 0,
        balanceUsdc: 0
      };

      try {
        localStorage.setItem(key, JSON.stringify(initial));
      } catch (_) {}

      return initial;
    }

    function initReferralUI() {
      const input = document.getElementById("ref-link-input");
      const copyBtn = document.getElementById("ref-link-copy");
      const invitedEl = document.getElementById("ref-stat-invited");
      const volumeEl  = document.getElementById("ref-stat-volume");
      const earnedEl  = document.getElementById("ref-stat-earned");
      const balanceEl = document.getElementById("ref-stat-balance");
      const vipNote   = document.getElementById("ref-vip-note");

      if (input) {
        input.value = jupLiteBuildMyRefLink();
      }

      if (copyBtn && input) {
        copyBtn.addEventListener("click", function () {
          navigator.clipboard.writeText(input.value).then(function () {
            const prev = copyBtn.textContent;
            copyBtn.textContent = "Copied!";
            setTimeout(function () {
              copyBtn.textContent = prev;
            }, 1500);
          }).catch(function () {});
        });
      }

      const stats = jupLiteLoadReferralStats();
      if (invitedEl) invitedEl.textContent = String(stats.invitedCount);
      if (volumeEl)  volumeEl.textContent  = stats.volumeUsdc.toFixed(2) + " USDC";
      if (earnedEl)  earnedEl.textContent  = stats.earnedUsdc.toFixed(2) + " USDC";
      if (balanceEl) balanceEl.textContent = stats.balanceUsdc.toFixed(2) + " USDC";

      if (vipNote) {
        const lang = document.documentElement.lang || "en";
        const dict = JUPLITE_I18N_REFER[lang] || JUPLITE_I18N_REFER.en;
        const vip = jupLiteGetVipPercent(stats.invitedCount);
        if (vip === 0) {
          vipNote.innerHTML = dict.vipEmpty || "";
        } else {
          const tpl = dict.vipSome || "";
          vipNote.innerHTML = tpl.replace("{PCT}", String(vip));
        }
      }
    }

    window.addEventListener("load", function () {
      jupLiteHandleIncomingRef();
      initLangSwitcher();
      initLiveTicker();
      initVisitorCounter();
      initReferralUI();
    });
  </script>
</body>
</html>
